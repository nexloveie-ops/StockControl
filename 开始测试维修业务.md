# 🔧 开始测试维修业务

## 🌐 访问地址
**http://localhost:3000**

## 🔐 登录信息
- 账号：`merchant_001`
- 密码：`merchant123`

---

## 📝 测试场景 A：自己维修（5分钟）

### 1️⃣ 创建维修订单
```
点击：维修业务 标签
点击：+ 新增维修订单 按钮

填写表单：
📱 客户电话：0851234567
👤 客户姓名：张三
📱 设备名称：iPhone 13 Pro
🔢 IMEI：123456789012345
❗ 问题描述：屏幕破裂
🏠 维修地点：留空（自己维修）
💰 维修费用：150

点击：✅ 创建订单
```

**预期结果**：
- ✅ 提示：维修订单创建成功！状态: 待维修
- ✅ 状态：🟠 待维修
- ✅ 维修地点：🟢 自己维修

---

### 2️⃣ 完成维修
```
找到订单
点击：完成 按钮
确认操作
```

**预期结果**：
- ✅ 状态变为：🔵 已完成

---

### 3️⃣ 标记为待销售
```
点击：待销售 按钮
确认操作
```

**预期结果**：
- ✅ 状态变为：🩷 等待销售

---

### 4️⃣ 在销售业务中销售
```
点击：销售业务 标签
点击：🔧 维修订单 卡片（橙色）

查看订单：
📱 设备：iPhone 13 Pro
👤 客户：张三 (0851234567)
💰 维修费用：€150.00
💵 建议售价：€195.00

点击：+ 加入购物车
点击：🛒 查看购物车

查看购物车：
📦 商品：iPhone 13 Pro（维修服务）
💰 单价：€195.00
📊 税率：Service VAT 13.5%

选择：💵 现金
点击：💰 完成支付
```

**预期结果**：
- ✅ 提示：销售完成！
- ✅ 购物车清空

---

### 5️⃣ 验证订单状态
```
点击：维修业务 标签
查看订单状态
```

**预期结果**：
- ✅ 状态变为：⚫ 已销售

---

## 📝 测试场景 B：外送维修（5分钟）

### 1️⃣ 创建外送维修订单
```
点击：+ 新增维修订单

填写表单：
📱 客户电话：0851234568
👤 客户姓名：李四
📱 设备名称：Samsung S21
🔢 IMEI：987654321098765
❗ 问题描述：电池更换
🏢 维修地点：ABC Repair Shop（外送维修）
💰 维修费用：80

点击：✅ 创建订单
```

**预期结果**：
- ✅ 提示：维修订单创建成功！状态: 已送出
- ✅ 状态：🟣 已送出
- ✅ 维修地点：ABC Repair Shop

---

### 2️⃣ 标记为已取回
```
点击：已取回 按钮
确认操作
```

**预期结果**：
- ✅ 状态变为：🟢 已取回

---

### 3️⃣ 标记为待销售
```
点击：待销售 按钮
确认操作
```

**预期结果**：
- ✅ 状态变为：🩷 等待销售

---

### 4️⃣ 销售订单
```
点击：销售业务 标签
点击：🔧 维修订单 卡片
点击：+ 加入购物车（Samsung S21）
选择：💳 刷卡
点击：💰 完成支付
```

**预期结果**：
- ✅ 销售完成
- ✅ 订单状态：⚫ 已销售

---

## 🎨 状态颜色指南

| 状态 | 颜色 | 说明 |
|------|------|------|
| 🟠 待维修 | 橙色 | 自己维修，等待处理 |
| 🟣 已送出 | 紫色 | 外送维修，已送出 |
| 🟢 已取回 | 绿色 | 外送维修，已取回 |
| 🔵 已完成 | 青色 | 自己维修，已完成 |
| 🩷 等待销售 | 粉色 | 可以销售 |
| ⚫ 已销售 | 灰色 | 已销售 |
| 🔴 已取消 | 红色 | 已取消 |

---

## 🔄 流程图

### 自己维修流程
```
📝 创建订单（维修地点留空）
    ↓
🟠 待维修
    ↓
🔵 已完成
    ↓
🩷 等待销售
    ↓
🛒 销售业务
    ↓
⚫ 已销售
```

### 外送维修流程
```
📝 创建订单（填写维修地点）
    ↓
🟣 已送出
    ↓
🟢 已取回
    ↓
🩷 等待销售
    ↓
🛒 销售业务
    ↓
⚫ 已销售
```

---

## 💰 价格计算

### 建议售价
```
建议售价 = 维修费用 × 1.3
```

### 税额计算
```
税额 = 销售额 × 13.5 / 113.5
```

### 示例
```
维修费用：€150.00
建议售价：€195.00
税额：€23.21
```

---

## ✅ 测试检查清单

### 基础功能
- [ ] ✅ 创建自己维修订单
- [ ] ✅ 创建外送维修订单
- [ ] ✅ 更新订单状态
- [ ] ✅ 删除订单
- [ ] ✅ 状态筛选

### 销售功能
- [ ] ✅ 维修订单显示在销售业务
- [ ] ✅ 加入购物车
- [ ] ✅ 现金支付
- [ ] ✅ 刷卡支付
- [ ] ✅ 混合支付

### 数据验证
- [ ] ✅ 状态自动更新
- [ ] ✅ 税额计算正确
- [ ] ✅ 销售记录保存

---

## 🎯 快速测试（2分钟）

### 最简测试
```
1. 登录系统
2. 点击"维修业务"
3. 点击"+ 新增维修订单"
4. 填写：
   - 客户电话：0851234567
   - 设备名称：iPhone 13
   - 问题描述：屏幕破裂
   - 维修费用：150
5. 创建订单
6. 点击"完成"
7. 点击"待销售"
8. 切换到"销售业务"
9. 点击"🔧 维修订单"
10. 点击"+ 加入购物车"
11. 选择"现金"
12. 点击"完成支付"
13. 验证订单状态为"已销售"
```

---

## 🐛 常见问题

### ❓ 维修订单不显示在销售业务中
**答**：确认订单状态为"等待销售"、"已完成"或"已取回"

### ❓ 无法创建订单
**答**：检查必填字段（客户电话、设备名称、问题描述）

### ❓ 状态更新失败
**答**：刷新页面，检查网络连接

---

## 📊 测试数据

### 测试订单 1
```
📱 客户电话：0851234567
👤 客户姓名：张三
📱 设备名称：iPhone 13 Pro
🔢 IMEI：123456789012345
❗ 问题描述：屏幕破裂
🏠 维修地点：留空
💰 维修费用：€150.00
```

### 测试订单 2
```
📱 客户电话：0851234568
👤 客户姓名：李四
📱 设备名称：Samsung S21
🔢 IMEI：987654321098765
❗ 问题描述：电池更换
🏢 维修地点：ABC Repair Shop
💰 维修费用：€80.00
```

---

## 📖 详细文档

- 📘 `REPAIR_BUSINESS_FEATURE.md` - 功能详细说明
- 📗 `QUICK_TEST_REPAIR_BUSINESS.md` - 详细测试指南
- 📙 `TEST_REPAIR_NOW.md` - 快速测试清单
- 📕 `REPAIR_BUSINESS_STATUS.md` - 实现状态

---

## 🎉 开始测试

**访问地址**：http://localhost:3000  
**登录账号**：merchant_001  
**登录密码**：merchant123

**祝测试顺利！** 🚀

---

## 📝 测试记录

**测试日期**：__________  
**测试结果**：[ ] ✅ 通过  [ ] ❌ 失败  

**问题记录**：
```
（在此记录发现的问题）
```

---

**功能已完整实现，准备测试！** 🎊
