# æµ‹è¯•ä»“åº“å‘è´§ IMEI/SN é€‰æ‹©åŠŸèƒ½

## æµ‹è¯•å‡†å¤‡

### 1. ç¡®è®¤äº§å“æ•°æ®
galaxy A53 äº§å“æœ‰ 5 ä¸ªå¯ç”¨åºåˆ—å·ï¼š
- SN: 1231
- SN: 1232
- SN: 1233
- SN: 1234
- SN: 1235

### 2. ç¡®è®¤è®¢å•çŠ¶æ€
è®¢å•å·: WO-20260202-1344
- å•†æˆ·: ham
- äº§å“: galaxy A53 Ã— 2
- çŠ¶æ€: confirmedï¼ˆå·²ç¡®è®¤ï¼‰

## æµ‹è¯•æ­¥éª¤

### æ­¥éª¤ 1ï¼šç™»å½•ä»“ç®¡å‘˜è´¦å·
1. æ‰“å¼€ http://localhost:3000/prototype-working.html
2. ä½¿ç”¨ä»“ç®¡å‘˜è´¦å·ç™»å½•ï¼š
   - ç”¨æˆ·å: `warehouse_manager`
   - å¯†ç : `123456`

### æ­¥éª¤ 2ï¼šæŸ¥çœ‹è®¢å•
1. ç‚¹å‡»"ğŸ›’ è®¢å•ç®¡ç†"æ ‡ç­¾
2. æ‰¾åˆ°è®¢å• WO-20260202-1344
3. ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"
4. âœ… ç¡®è®¤è®¢å•çŠ¶æ€ä¸º"å·²ç¡®è®¤"
5. âœ… ç¡®è®¤äº§å“ä¸º galaxy A53 Ã— 2

### æ­¥éª¤ 3ï¼šæ ‡è®°å‘è´§
1. ç‚¹å‡»"ğŸšš æ ‡è®°å‘è´§"æŒ‰é’®
2. âœ… åº”è¯¥æ‰“å¼€å‘è´§å¯¹è¯æ¡†
3. âœ… å¯¹è¯æ¡†æ ‡é¢˜ï¼š"ğŸšš æ ‡è®°å‘è´§"
4. âœ… æç¤ºæ–‡å­—ï¼š"è¯·ä¸ºæ¯ä¸ªè®¢å•é¡¹ç›®é€‰æ‹©å…·ä½“çš„äº§å“æˆ–å¡«å†™å‘è´§æ•°é‡ã€‚"

### æ­¥éª¤ 4ï¼šæ£€æŸ¥è®¾å¤‡é€‰æ‹©ç•Œé¢
1. âœ… æ˜¾ç¤ºäº§å“åç§°ï¼š"galaxy A53 (è®¢è´­æ•°é‡: 2)"
2. âœ… æ˜¾ç¤ºæ ‡ç­¾ï¼š"é€‰æ‹©è®¾å¤‡ (éœ€é€‰æ‹© 2 å°):"
3. âœ… æ˜¾ç¤ºè®¾å¤‡åˆ—è¡¨ï¼ˆå¤é€‰æ¡†ï¼‰
4. âœ… æ¯ä¸ªè®¾å¤‡æ˜¾ç¤ºï¼š
   - å¤é€‰æ¡†
   - SN: 1231, 1232, 1233, 1234, 1235
   - äº§å“ä¿¡æ¯ï¼ˆå“ç‰Œã€å‹å·ã€é¢œè‰²ã€æˆè‰²ï¼‰
5. âœ… æ˜¾ç¤ºé€‰æ‹©è®¡æ•°ï¼š"å·²é€‰æ‹©: 0 / 2"

### æ­¥éª¤ 5ï¼šé€‰æ‹©è®¾å¤‡
1. å‹¾é€‰ç¬¬ä¸€ä¸ªè®¾å¤‡ï¼ˆSN: 1231ï¼‰
2. âœ… é€‰æ‹©è®¡æ•°æ›´æ–°ä¸ºï¼š"å·²é€‰æ‹©: 1 / 2"
3. å‹¾é€‰ç¬¬äºŒä¸ªè®¾å¤‡ï¼ˆSN: 1232ï¼‰
4. âœ… é€‰æ‹©è®¡æ•°æ›´æ–°ä¸ºï¼š"å·²é€‰æ‹©: 2 / 2"
5. âœ… å…¶ä»–å¤é€‰æ¡†è¢«ç¦ç”¨ï¼ˆå˜ç°ï¼‰

### æ­¥éª¤ 6ï¼šç¡®è®¤å‘è´§
1. ç‚¹å‡»"âœ… ç¡®è®¤å‘è´§"æŒ‰é’®
2. âœ… æ˜¾ç¤ºæˆåŠŸæç¤ºï¼š"âœ… å‘è´§æˆåŠŸï¼åº“å­˜å·²è½¬ç§»åˆ°å•†æˆ·ã€‚"
3. âœ… å¯¹è¯æ¡†è‡ªåŠ¨å…³é—­
4. âœ… è®¢å•è¯¦æƒ…å¯¹è¯æ¡†å…³é—­
5. âœ… è®¢å•åˆ—è¡¨åˆ·æ–°

### æ­¥éª¤ 7ï¼šéªŒè¯è®¢å•çŠ¶æ€
1. å†æ¬¡æŸ¥çœ‹è®¢å• WO-20260202-1344
2. âœ… è®¢å•çŠ¶æ€å˜ä¸º"å·²å‘è´§"
3. âœ… æ˜¾ç¤ºå‘è´§ä¿¡æ¯ï¼ˆå‘è´§æ—¶é—´ã€å‘è´§äººï¼‰

### æ­¥éª¤ 8ï¼šéªŒè¯å•†æˆ·åº“å­˜
1. ç™»å‡ºä»“ç®¡å‘˜è´¦å·
2. ç™»å½•å•†æˆ·è´¦å·ï¼š
   - ç”¨æˆ·å: `ham`
   - å¯†ç : `123456`
3. ç‚¹å‡»"æˆ‘çš„åº“å­˜"æ ‡ç­¾
4. âœ… æ‰¾åˆ° 2 ä¸ª galaxy A53 äº§å“
5. âœ… æ¯ä¸ªäº§å“æ˜¾ç¤ºæ­£ç¡®çš„åºåˆ—å·ï¼š
   - äº§å“ 1: SN: 1231
   - äº§å“ 2: SN: 1232
6. âœ… äº§å“æ¥æºæ˜¾ç¤ºï¼š"ä»ä»“åº“è®¢è´§"

### æ­¥éª¤ 9ï¼šéªŒè¯ä»“åº“åº“å­˜
1. ç™»å‡ºå•†æˆ·è´¦å·
2. ç™»å½•ä»“ç®¡å‘˜è´¦å·
3. ç‚¹å‡»"ğŸ“¦ åº“å­˜ç®¡ç†"æ ‡ç­¾
4. æŸ¥çœ‹ galaxy A53 äº§å“
5. âœ… SN: 1231 å’Œ 1232 çš„çŠ¶æ€å˜ä¸º"sold"
6. âœ… SN: 1233, 1234, 1235 ä»ç„¶æ˜¯"available"

## é¢„æœŸç»“æœ

### API å“åº”
```json
GET /api/warehouse/products/6980f67355482b816e958929/available

{
  "success": true,
  "data": [
    {
      "_id": "6980f67355482b816e95892a",
      "name": "galaxy A53",
      "brand": "",
      "model": "",
      "serialNumber": "1231",
      "imei": null,
      "color": "black",
      "condition": "Pre-Owned",
      "quantity": 1
    },
    {
      "_id": "6980f67355482b816e95892f",
      "name": "galaxy A53",
      "brand": "",
      "model": "",
      "serialNumber": "1232",
      "imei": null,
      "color": "black",
      "condition": "Pre-Owned",
      "quantity": 1
    },
    // ... å…¶ä»– 3 ä¸ªåºåˆ—å·
  ]
}
```

### å‘è´§è¯·æ±‚
```json
PUT /api/warehouse/orders/xxx/ship

{
  "shipmentItems": [
    {
      "productId": "6980f67355482b816e958929",
      "isDevice": true,
      "selectedProducts": [
        "6980f67355482b816e95892a",  // SN: 1231 çš„ _id
        "6980f67355482b816e95892f"   // SN: 1232 çš„ _id
      ]
    }
  ]
}
```

## å¸¸è§é—®é¢˜

### é—®é¢˜ 1ï¼šæ²¡æœ‰æ˜¾ç¤ºè®¾å¤‡é€‰æ‹©åˆ—è¡¨
**åŸå› **: äº§å“æ²¡æœ‰ serialNumbers æ•°ç»„æˆ–æ‰€æœ‰åºåˆ—å·éƒ½ä¸æ˜¯ available çŠ¶æ€
**è§£å†³**: æ£€æŸ¥äº§å“æ•°æ®ï¼Œç¡®ä¿æœ‰å¯ç”¨çš„åºåˆ—å·

### é—®é¢˜ 2ï¼šé€‰æ‹©è®¡æ•°ä¸æ›´æ–°
**åŸå› **: JavaScript å‡½æ•° `updateDeviceSelection()` æœªæ­£ç¡®è°ƒç”¨
**è§£å†³**: æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

### é—®é¢˜ 3ï¼šå‘è´§å¤±è´¥
**åŸå› **: 
- é€‰æ‹©çš„åºåˆ—å·æ•°é‡ä¸æ­£ç¡®
- åºåˆ—å·çŠ¶æ€ä¸æ˜¯ available
- è®¢å•çŠ¶æ€ä¸æ˜¯ confirmed

**è§£å†³**: æ£€æŸ¥åç«¯æ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯

## è°ƒè¯•å‘½ä»¤

### æ£€æŸ¥äº§å“åºåˆ—å·
```bash
node check-product-imei.js
```

### æ£€æŸ¥ API å“åº”
åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œï¼š
```javascript
fetch('/api/warehouse/products/6980f67355482b816e958929/available')
  .then(r => r.json())
  .then(d => console.log(d));
```

### æŸ¥çœ‹ç½‘ç»œè¯·æ±‚
1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. åˆ‡æ¢åˆ° Network æ ‡ç­¾
3. ç‚¹å‡»"æ ‡è®°å‘è´§"
4. æŸ¥çœ‹ `/api/warehouse/products/.../available` è¯·æ±‚
5. æŸ¥çœ‹å“åº”æ•°æ®

## æµ‹è¯•æ—¶é—´
2026-02-02

## ç›¸å…³æ–‡ä»¶
- `StockControl-main/public/prototype-working.html` - å‰ç«¯ç•Œé¢
- `StockControl-main/app.js` - åç«¯ API
- `StockControl-main/models/ProductNew.js` - äº§å“æ¨¡å‹
