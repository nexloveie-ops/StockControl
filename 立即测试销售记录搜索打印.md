# 🔍 立即测试 - 销售记录搜索和打印

## ✅ 新增功能

1. **搜索框** - 快速搜索销售记录
2. **打印按钮** - 重新打印历史订单小票

## 🚀 快速测试

### 步骤1: 刷新浏览器
按 **Ctrl + Shift + R** 强制刷新

### 步骤2: 查询销售记录
1. 登录商户账号
2. 进入"销售业务"标签
3. 展开"销售记录查询"
4. 选择日期范围（例如：本月）
5. 点击"查询销售记录"

### 步骤3: 测试搜索功能
在搜索框中输入关键字：

#### 测试A: 搜索电话号码
```
输入: 087
或: +353
```
✅ 应该显示所有包含该号码的销售记录

#### 测试B: 搜索产品名称
```
输入: iPhone
或: Case
```
✅ 应该显示所有包含该产品的销售记录

#### 测试C: 搜索序列号
```
输入: IMEI
或: SN
```
✅ 应该显示所有包含该序列号的销售记录

#### 测试D: 搜索金额
```
输入: 899
或: 29.99
```
✅ 应该显示所有包含该金额的销售记录

#### 测试E: 清空搜索
```
删除搜索框内容
```
✅ 应该显示所有销售记录

### 步骤4: 测试打印功能
1. 在销售记录列表中找到任意一条记录
2. 点击最右侧的"🖨️ 打印"按钮
3. 验证：
   - ✅ 打印窗口弹出
   - ✅ 小票内容正确
   - ✅ 订单号匹配
   - ✅ 商品明细完整
   - ✅ 金额正确

## 📋 验证清单

### 搜索功能
- [ ] 搜索框显示在日期选择器下方
- [ ] 输入关键字实时过滤
- [ ] 搜索电话号码有效
- [ ] 搜索产品名称有效
- [ ] 搜索序列号有效
- [ ] 搜索金额有效
- [ ] 搜索订单号有效
- [ ] 清空搜索框恢复所有记录
- [ ] 搜索不区分大小写
- [ ] 没有匹配时显示提示

### 打印功能
- [ ] 每条记录都有打印按钮
- [ ] 点击打印按钮弹出窗口
- [ ] 小票内容完整
- [ ] 订单号正确
- [ ] 日期时间正确
- [ ] 商品明细正确
- [ ] 金额正确
- [ ] 支付方式正确
- [ ] 客户信息正确（如果有）
- [ ] 可以正常打印

### 表格更新
- [ ] 新增"订单号"列
- [ ] 新增"操作"列
- [ ] 打印按钮样式正确
- [ ] 表格布局整齐

## 🎯 使用场景测试

### 场景1: 客户要求补打小票
1. 客户提供电话号码：+353 87 123 4567
2. 在搜索框输入：087
3. 找到客户的订单
4. 点击"打印"按钮
5. 重新打印小票给客户

### 场景2: 查找特定产品的销售
1. 需要查看iPhone的销售情况
2. 在搜索框输入：iPhone
3. 查看所有iPhone的销售记录
4. 如需打印某条记录，点击打印按钮

### 场景3: 按金额查找订单
1. 记得有一笔€899的订单
2. 在搜索框输入：899
3. 找到该订单
4. 查看详细信息或打印

## 💡 搜索技巧

### 技巧1: 部分匹配
```
不需要输入完整内容
输入: 087 → 匹配 +353 87 123 4567
输入: iPhone → 匹配 iPhone 15 Pro
```

### 技巧2: 数字搜索
```
搜索金额时只输入数字
输入: 899 → 匹配 €899.00
输入: 29 → 匹配 €29.99
```

### 技巧3: 订单号搜索
```
输入订单号的任意部分
输入: 20260206 → 匹配 SALE-20260206-001
输入: 001 → 匹配所有以001结尾的订单
```

## ⚠️ 注意事项

### 1. 先查询再搜索
- 必须先选择日期并点击"查询销售记录"
- 搜索只在已查询的结果中进行
- 更改日期需要重新查询

### 2. 浏览器缓存
- 如果看不到新功能，强制刷新（Ctrl + Shift + R）
- 或清除浏览器缓存

### 3. 打印权限
- 确保浏览器允许弹出窗口
- 配置好默认打印机

## 🔧 故障排除

### Q1: 看不到搜索框？
**A**: 强制刷新浏览器（Ctrl + Shift + R）

### Q2: 搜索没有结果？
**A**: 
- 检查是否先点击了"查询销售记录"
- 确认关键字拼写正确
- 尝试更短的关键字

### Q3: 打印按钮不工作？
**A**: 
- 检查浏览器控制台是否有错误
- 确认浏览器允许弹出窗口
- 刷新页面重试

### Q4: 打印内容不对？
**A**: 
- 确认点击的是正确的记录
- 检查订单号是否匹配
- 重新查询后再试

## 📊 界面预览

```
销售记录查询
├── 日期选择
│   ├── 开始日期: [2026-02-01]
│   └── 结束日期: [2026-02-06]
├── 搜索框 ← 新增
│   └── 🔍 搜索 (电话号码/产品名称/序列号/金额)
│       [输入关键字搜索...]
├── [查询销售记录] 按钮
└── 销售记录表格
    ├── 日期
    ├── 订单号 ← 新增
    ├── 产品
    ├── 序列号
    ├── 数量
    ├── 单价
    ├── 销售额
    ├── 成本
    ├── 税额
    ├── 税务分类
    ├── 支付方式
    ├── 客户
    └── 操作 ← 新增
        └── [🖨️ 打印] 按钮
```

## ✨ 功能亮点

1. **实时搜索** - 输入即搜索，无需点击按钮
2. **多字段搜索** - 支持电话、产品、序列号、金额等
3. **一键打印** - 快速重新打印历史订单
4. **用户友好** - 简单直观的操作界面

## 🎉 测试成功标准

- ✅ 搜索框正常显示
- ✅ 搜索功能实时响应
- ✅ 搜索结果准确
- ✅ 打印按钮正常显示
- ✅ 打印功能正常工作
- ✅ 小票内容正确

---

**现在就可以测试了！** 🚀

刷新浏览器 → 查询销售记录 → 搜索测试 → 打印测试
